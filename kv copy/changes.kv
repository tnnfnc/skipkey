#:kivy 1.11
#---------------------------------------------------------
# Changes screen
#---------------------------------------------------------
<ChangesScreen>:
	# Properties
    # pr_accounts: _spi_accounts
    pr_actions: _spi_actions
    changed_item_list: _changed_item_list

    
    BoxLayout:
        orientation: 'vertical'
        padding: ui.screen_padding
		#--------------------------------- Main buttons
		ActionBar:
		    # pos_hint: {'top':1}
			ActionView:
				use_separator: True
				ActionPrevious:
					title: app.pr_timer
					with_previous: False
					app_icon: 'data/icons/skip.png'
					previous_icon: 'data/icons/left_arrow.png'
					on_release:
						if hasattr(root, 'cmd_back'): getattr(root, 'cmd_back')()
				# TimerLabel:
				ActionButton:
					important: True
					text: _('Back')
					icon: 'data/icons/left_arrow.png'
					on_release: 
						if hasattr(root, 'cmd_back'): getattr(root, 'cmd_back')()
				ActionButton:
					important: True
					icon: 'data/icons/undo.png'
					text: _('Undo')
					on_release: 
						if hasattr(root, 'cmd_undo'): getattr(root, 'cmd_undo')()
				# ActionOverflow: fail with Android		

		FrameTitle:
            id: _lab_account
            text: _('Changes')
		Spinner:
			id: _spi_actions
			size_hint: 1, None
			size: (ui.spinner_x, ui.spinner_y)
			on_text:
				if hasattr(root, 'cmd_actions'): getattr(root, 'cmd_actions')(self.text)
				
		BBoxLayout: # WORKS!
			orientation: 'vertical'
			ScrollView:
				ChangedItemList:
					id: _changed_item_list

					