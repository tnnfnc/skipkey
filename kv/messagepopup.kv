#:kivy 1.11
# ---------------------------------------------------------
# -------------------- MESSAGE POPUP
# ---------------------------------------------------------
<MessagePopup>:
	## Properties
    pr_message: _lab_message
	pr_image: _img_image
	
    auto_dismiss: False
    size_hint: 1, 0.5
    orientation: "vertical"
    # padding: ui.screen_padding
	ScrollView:
		BoxLayout:
			orientation: 'vertical'
			size_hint_y: None
			height: self.minimum_height	
			BoxLayout:
				orientation: 'horizontal'
				size_hint_min_y: _img_image.height + _lab_message.height
				Image:
					id: _img_image
					allow_stretch: True
					size_hint: None, None
					size: dp(40), dp(40)
				Label:
					id: _lab_message
					text: _('Message')
					markup: True
					padding_x: dp(10)
					size_hint_y: None
					font_size: ui.font_big #1.1*font_size
					text_size: self.parent.width - _img_image.width, None
					size: self.texture_size
					halign: 'justify'
					valign: 'middle'		
				
				# Label:
				# 	id: _lab_message
				# 	markup: True
				# 	padding_x: dp(10)
				# 	font_size: ui.font_big #1.1 * ui.font_norm #font_size
				# 	text: _('Message')
				# 	valign: 'center'
				# 	halign: 'left'
				# 	text_size: self.size
				# 	padding_x: dp(10)

			#--------------------------------- Main buttons
			StackLayout:
				orientation: 'rl-bt'
				size_hint_min_y: 2*ui.nav_button_y
				NavButton:
					id: _btn_ok
					text: _('OK')
					on_release:
						if hasattr(root, 'cmd_ok'): getattr(root, 'cmd_ok')()
						root.dismiss()
