#:kivy 1.11
# ---------------------------------------------------------
# -------------------- MESSAGE POPUP
# ---------------------------------------------------------
<MessagePopup>:
	## Properties
    message: _lab_message
	image: _img_image
	
    auto_dismiss: False
    size_hint: 1, 0.5
    orientation: "vertical"
    padding: ui.screen_padding
	ScrollView:
		BoxLayout:
			orientation: 'vertical'
			size_hint_y: None
			height: self.minimum_height	
			BoxLayout:
				orientation: 'horizontal'
				size_hint_min_y: _img_image.height + _lab_message.height
				Image:
					id: _img_image
					allow_stretch: True
					size_hint: None, None
					size: dp(40), dp(40)
				Label:
					id: _lab_message
					text: _('Message')
					markup: True
					size_hint_y: None
					font_size: ui.font_big #1.1*font_size
					text_size: self.parent.width - _img_image.width, None
					size: self.texture_size
					halign: 'justify'
					valign: 'middle'		

			#--------------------------------- Main buttons
			StackLayout:
				orientation: 'rl-bt'
				size_hint_min_y: 2*ui.nav_button_y
				NavButton:
					id: _btn_ok
					text: _('OK')
					on_release:
						if hasattr(root, 'cmd_ok'): getattr(root, 'cmd_ok')()
						root.dismiss()
